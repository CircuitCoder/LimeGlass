<div class="view page">
  <div class="seal"></div>
  <div class="title">管理::注册列表</div>
  <button @click="genCSV()">导出</button>
  <router-link
    class="text-link"
    tag="button"
    :to="{ name: 'register' }">新建用户</router-link>

  <div v-for="(entry, index) of list" class="list-card">
    <div class="list-name">{{ entry.name }} <small>{{ entrySubtitle(entry) }}</small></div>
    <div class="list-contact"><i class="material-icons">email</i> {{ entry.email }}</div>
    <div class="list-contact" v-if="entry.phone"><i class="material-icons">phone</i> {{ entry.phone }}</div>
    <div class="list-contact"><i class="material-icons">school</i> {{ entry.school }}</div>
    <router-link
      tag="button"
      class="primary"
      :to="{ name: 'info', query: { _id: entry._id, admin: true, name: entry.name } }">个人信息</router-link>
    <button @click="deleteUser(entry._id, index)">删除</button>
    <button @click="setReviewerRole(entry, !entry.isReviewer)">{{ entry.isReviewer ? '设为代表' : '设为面试官' }}</button>
  </div>

  <table class="primary-table" style="display: none">
    <thead>
      <th>名</th>
      <th>学校</th>
      <th>手机</th>
      <th>个人信息</th>
      <th>操作</th>
    </thead>
    <tbody>
      <tr v-for="(entry, index) of list" :key="entry._id">
        <td>{{ entry.name }}</td>
        <td>{{ entry.school }}</td>
        <td>{{ entry.phone }}</td>
        <td>
        </td>
      </tr>
    </tbody>
  </table>
</div>
