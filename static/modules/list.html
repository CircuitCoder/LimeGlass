<div class="view page">
  <div class="seal"></div>
  <div class="title">管理::注册列表</div>
  <button @click="genCSV()">导出</button>
  <router-link
    class="text-link"
    tag="button"
    :to="{ name: 'register' }">新建用户</router-link>
  <table class="primary-table">
    <thead>
      <th>名</th>
      <th>学校</th>
      <th>手机</th>
      <th>个人信息</th>
      <th>操作</th>
    </thead>
    <tbody>
      <tr v-for="(entry, index) of list" :key="entry._id">
        <td>{{ entry.name }}</td>
        <td>{{ entry.school }}</td>
        <td>{{ entry.phone }}</td>
        <router-link
          class="text-link"
          tag="td"
          :to="{ name: 'info', query: { _id: entry._id, admin: true, name: entry.name } }">{{ entry.info ? '查看/编辑' : '未填写/添加' }}</router-link>
        <td>
          <button @click="deleteUser(entry._id, index)">删除</button>
          <button @click="setReviewerRole(entry, !entry.isReviewer)">{{ entry.isReviewer ? '设为代表' : '设为面试官' }}</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
